<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Calend√°rio de Trabalho 2026</title>

<style>
:root {
    --bg: #1f1f1f;
    --card: #2c2c2c;
    --card-soft: #333;
    --text: #f1f1f1;
    --muted: #bdbdbd;
    --border: #444;

    --dejem: #a8e6a3;
    --delegada: #1b5e20;
    --pendente: #f4e285;
    --trabalho: #0d47a1;

    --feriado-borda: #ff5252;
    --weekend: #252525;
}

body {
    margin: 0;
    font-family: "Segoe UI", system-ui, Arial, sans-serif;
    background: var(--bg);
    color: var(--text);
    display: flex;
    justify-content: center;
}

.container {
    width: 100%;
    max-width: 1100px;
    padding: 16px;
    text-align: center;
}

/* CONTROLES */
.controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 14px;
    margin-bottom: 16px;
}

button {
    background: #444;
    color: white;
    border: none;
    padding: 8px 16px;
    cursor: pointer;
    border-radius: 6px;
    font-weight: 600;
}

button:hover { background: #666; }

/* CALEND√ÅRIO */
.calendar {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    gap: 8px;
}

.weekday {
    font-weight: 600;
    padding: 6px 0;
    color: var(--muted);
    font-size: 14px;
}

/* DIA */
.day {
    background: var(--card);
    border: 1px solid var(--border);
    padding: 8px;
    min-height: 105px;
    cursor: pointer;
    border-radius: 10px;
    box-shadow: 0 4px 10px rgba(0,0,0,.25);
    transition: transform .15s ease, box-shadow .15s ease;
}

.day:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0,0,0,.35);
}

.day.weekend {
    background: var(--weekend);
}

.day.feriado {
    border: 2px solid var(--feriado-borda);
}

.day strong {
    display: block;
    margin-bottom: 6px;
    font-size: 18px;
}

/* STATUS */
.dejem { background: var(--dejem); color: #000; }
.delegada { background: var(--delegada); }
.pendente { background: var(--pendente); color: #000; }
.trabalho { background: var(--trabalho); }

/* RESUMO */
.resumo {
    margin-top: 20px;
    background: var(--card-soft);
    padding: 14px;
    border-radius: 10px;
    box-shadow: 0 4px 12px rgba(0,0,0,.25);
}

.resumo div {
    margin-top: 6px;
    font-size: 15px;
}

/* CORES DOS TOTAIS */
#totalDejem {
    color: #9be89a;
    font-weight: 800;
}

#totalDelegada {
    color: #2ecc71;
    font-weight: 800;
}

.total {
    margin-top: 18px;
    font-size: 18px;
    background: var(--card-soft);
    padding: 14px;
    border-radius: 10px;
}

/* LEGENDA */
.legenda {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 12px;
    margin-top: 18px;
    font-size: 14px;
}

.legenda span {
    display: flex;
    align-items: center;
    gap: 6px;
}

/* MOBILE */
@media (max-width: 768px) {
    .calendar {
        grid-template-columns: repeat(2, 1fr);
    }

    .weekday {
        display: none;
    }

    .day {
        min-height: 120px;
    }
}

</style>
</head>

<body>

<div class="container">

<h1>Calend√°rio de Trabalho ‚Äî 2026</h1>

<div class="controls">
    <button onclick="mudarMes(-1)">‚óÄ</button>
    <strong id="mesAno"></strong>
    <button onclick="mudarMes(1)">‚ñ∂</button>
</div>

<div class="legenda">
    <span>üü© DEJEM</span>
    <span>üü¢ Delegada</span>
    <span>üü® Pendente</span>
    <span>üü¶ Trabalho</span>
    <span>üî¥ Feriado</span>
</div>

<div class="calendar" id="calendar"></div>

<div class="resumo">
    <div>Previs√£o de aprovados (ainda n√£o somado): R$ <span id="totalPendente">0.00</span></div>
    <div>DEJEM Feita valor: R$ <span id="totalDejem">0.00</span></div>
    <div>Delegada Feita valor: R$ <span id="totalDelegada">0.00</span></div>
</div>

<div class="total">
    <strong>Total geral do m√™s:</strong> R$ <span id="totalMes">0.00</span>
    <div style="margin-top:8px;color:#f4e285;font-size:14px;">
        ‚ö†Ô∏è Valor a receber daqui 2 meses ‚ö†Ô∏è
    </div>
</div>

</div> <!-- container FECHA CORRETAMENTE AQUI -->

<!-- MODAL -->
<div class="modal" id="modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,.6); align-items:center; justify-content:center;">
    <div style="background:#444;padding:20px;border-radius:6px;width:320px;text-align:left;">
        <h3 id="modalDia"></h3>

        <label>Status
            <select id="status" onchange="controlarCampos()">
                <option value="">‚Äî</option>
                <option value="pendente">Pendente</option>
                <option value="trabalho">Dia de Trabalho</option>
                <option value="dejem">Aprovado DEJEM</option>
                <option value="delegada">Aprovado Delegada</option>
            </select>
        </label>

        <label>
    Hor√°rio
    <textarea id="horario" rows="2" disabled></textarea>
</label>

<div class="linha-campo">
    <span>Valor (R$)</span>
    <input type="number" id="valor" step="0.01" disabled>
</div>


        <div style="margin-top:18px;display:flex;justify-content:space-between;">
            <button onclick="salvarDia()">Salvar</button>
            <button onclick="fecharModal()">Cancelar</button>
        </div>
    </div>
</div>

<script>
const ano = 2026;
let mesAtual = 0;
let diaSelecionado = null;

const diasSemana = ["Dom","Seg","Ter","Qua","Qui","Sex","S√°b"];

const feriados = {
    "2026-0-1": "Confraterniza√ß√£o Universal",
    "2026-0-25": "Anivers√°rio da Cidade de S√£o Paulo",

    "2026-1-16": "Carnaval",
    "2026-1-17": "Carnaval",
    "2026-1-18": "Quarta-feira de Cinzas (at√© 12h)",

    "2026-3-3": "Paix√£o de Cristo",
    "2026-3-21": "Tiradentes",

    "2026-4-1": "Dia Mundial do Trabalho",

    "2026-5-4": "Corpus Christi",

    "2026-6-9": "Revolu√ß√£o Constitucionalista (SP)",

    "2026-8-7": "Independ√™ncia do Brasil",

    "2026-9-12": "Nossa Senhora Aparecida",

    "2026-9-30": "Dia do Servidor P√∫blico (Comemorado)",

    "2026-10-2": "Finados",
    "2026-10-15": "Proclama√ß√£o da Rep√∫blica",
    "2026-10-20": "Dia da Consci√™ncia Negra",

    "2026-11-24": "V√©spera de Natal",
    "2026-11-25": "Natal",
    "2026-11-31": "V√©spera de Ano Novo"
};

function renderCalendar(){
    const calendar = document.getElementById("calendar");
    calendar.innerHTML = "";

    document.getElementById("mesAno").innerText =
        new Date(ano, mesAtual).toLocaleString("pt-BR",{month:"long",year:"numeric"});

    diasSemana.forEach(d => {
        const wd = document.createElement("div");
        wd.className = "weekday";
        wd.innerText = d;
        calendar.appendChild(wd);
    });

    const primeiroDia = new Date(ano, mesAtual, 1).getDay();
    const totalDias = new Date(ano, mesAtual + 1, 0).getDate();

    for(let i=0;i<primeiroDia;i++) calendar.appendChild(document.createElement("div"));

    let totalGeral = 0;
    let totalPendente = 0;
    let totalDejem = 0;
    let totalDelegada = 0;

    for(let dia=1; dia<=totalDias; dia++){
        const key = `${ano}-${mesAtual}-${dia}`;
        const dados = JSON.parse(localStorage.getItem(key)) || {};

        const nomeFeriado = feriados[key];

        const div = document.createElement("div");
        div.className = "day " + (dados.status || "") + (nomeFeriado ? " feriado" : "");

        let texto = "Folga";

        if(dados.status === "trabalho"){
            texto = "<strong>B</strong> das 06h00 √†s 18h30";
        } else if(dados.status){
            texto = `${dados.horario || ""}<br>${dados.valor ? "R$ "+dados.valor : ""}`;
        }

        div.innerHTML = `
            <strong style="${nomeFeriado ? 'color:#ff5252' : ''}">${dia}</strong>
            ${texto}
            ${nomeFeriado ? `<div style="margin-top:6px;font-size:12px;color:#ff7b7b;">${nomeFeriado}</div>` : ""}
        `;

        div.onclick = () => abrirModal(dia, dados);

        if(dados.valor){
            const v = parseFloat(dados.valor);
            if(dados.status === "pendente") totalPendente += v;
            if(dados.status === "dejem") { totalDejem += v; totalGeral += v; }
            if(dados.status === "delegada") { totalDelegada += v; totalGeral += v; }
        }

        calendar.appendChild(div);
    }

    document.getElementById("totalMes").innerText = totalGeral.toFixed(2);
    document.getElementById("totalPendente").innerText = totalPendente.toFixed(2);
    document.getElementById("totalDejem").innerText = totalDejem.toFixed(2);
    document.getElementById("totalDelegada").innerText = totalDelegada.toFixed(2);
}

function abrirModal(dia, dados){
    diaSelecionado = dia;
    document.getElementById("modalDia").innerText = `Dia ${dia}`;
    document.getElementById("status").value = dados.status || "";
    document.getElementById("valor").value = dados.valor || "";
    document.getElementById("horario").value = dados.horario || "";
    controlarCampos();
    document.getElementById("modal").style.display = "flex";
}

function controlarCampos(){
    const status = document.getElementById("status").value;
    const valor = document.getElementById("valor");
    const horario = document.getElementById("horario");

    if(status === "pendente" || status === "dejem" || status === "delegada"){
        valor.disabled = false;
        horario.disabled = false;
    } else {
        valor.value = "";
        horario.value = "";
        valor.disabled = true;
        horario.disabled = true;
    }
}

function fecharModal(){
    document.getElementById("modal").style.display = "none";
}

function salvarDia(){
    if(!confirm("Tem certeza que deseja salvar as altera√ß√µes deste dia?")) return;

    const status = document.getElementById("status").value;
    const valor = document.getElementById("valor").value;
    const horario = document.getElementById("horario").value;

    const key = `${ano}-${mesAtual}-${diaSelecionado}`;
    localStorage.setItem(key, JSON.stringify({status, valor, horario}));

    fecharModal();
    renderCalendar();
}

function mudarMes(v){
    mesAtual = (mesAtual + v + 12) % 12;
    renderCalendar();
}

renderCalendar();
</script>

</body>
</html>
